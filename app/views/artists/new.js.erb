var modal = $( '<%= j(render "shared/new_modal", object: @artist) %>' );

$('body').prepend(modal);

$('.modal-body').html('<%= j(render 'form', remote: true ) %>');

if ( $('body').attr('data-controller') !== "artists" ) {
	$('#artist-contributions').remove();
} 
else {
	MelodyScout.selectizePages();
}

$('#new-Artist-modal').modal();

$('button[data-dismiss="modal"]').click(function() {
  ['.modal'].forEach(function(elem) {
    $(elem).hide(400).promise().done(function(item) {
      item.remove();
    });
  });
});
