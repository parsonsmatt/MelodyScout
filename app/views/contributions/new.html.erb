<div class='row'>
    <h1>New Contribution</h1>
</div>
<div class='row'>
    <h2><%= @artist.try(:name) %><%= @release.try(:name) %></h2>

    <%= form_for(@contribution, url: @form_url) do |f| %>
        <%= render 'shared/error_messages', object: f.object %>

        <% if params[:release_id] %>

            <%  f.hidden_field :release_id, value: params[:release_id] %>

            <%= f.label :artist_id %>
            <%= f.select :artist_id, Artist.all.collect { |a| [a.name, a.id] } %>

        <% else %>  

            <%  f.hidden_field :artist_id, value: params[:artist_id] %>

            <%= f.label :release_id %>
            <%= f.select :release_id, Release.all.collect { |r| [r.name, r.id] } %>
        <% end %>

        <%= f.label :role %>
        <%= f.text_field :role %>

        <%= f.submit 'Submit', class: 'btn btn-primary' %>
    <% end %>

</div>
